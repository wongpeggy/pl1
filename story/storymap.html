<!DOCTYPE html>
<!-- https://wongpeggy.github.io/pl1/story/storymap.html -->
<!-- Author: Peggy Wong -->
<!-- Date Created: Feb 01, 2022 -->
<!-- Date Modified: Feb 01, 2022 -->
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Story Map | Lion Rock</title>
        <!-- Google Maps Javascript API -->
        <!-- Reference: https://github.com/googlemaps/js-samples/tree/main/samples -->
        <!-- Directions Reference: https://developers.google.com/maps/documentation/javascript/directions -->
        <!-- Directions Reference: https://developers.google.com/maps/documentation/javascript/reference/directions -->
        <!-- Directions Reference: https://developers.google.com/maps/documentation/javascript/examples/directions-waypoints#maps_directions_waypoints-javascript -->
        <!-- Markers Reference: https://developers.google.com/maps/documentation/javascript/markers -->
        <!-- Markers Reference: https://developers.google.com/maps/documentation/javascript/reference/marker -->
        <!-- Markers Reference: https://developers.google.com/maps/documentation/javascript/infowindows -->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script>
            function initMap() {
                const map = new google.maps.Map(document.getElementById("map"), {
                    center: { lat: 22.3523, lng: 114.1870 }, 
                    zoom: 15
                });
                const directionsService = new google.maps.DirectionsService();
                const directionsRenderer = new google.maps.DirectionsRenderer({ suppressMarkers: true });
                directionsRenderer.setMap(map);
                calculateAndDisplayRoute(directionsService, directionsRenderer);
                const infowindow = new google.maps.InfoWindow({
                    content: "<img src='fat-jong-temple.jpg'>"
                });
                const marker = new google.maps.Marker({
                    position: { lat: 22.349760925512392, lng: 114.19398881331269 },
                    map,
                    title: "Temple Hill Fat Jong Temple"
                });
                marker.addListener("click", () => {
                    infowindow.open({
                        anchor: marker,
                        map,
                        shouldFocus: false
                    });
                });
            }
            function calculateAndDisplayRoute(directionsService, directionsRenderer) {                    
                directionsService
                .route({
                    origin: "Temple Hill Fat Jong Temple, Shatin Pass Road, Sha Tin Pass, Hong Kong",
                    destination: "Lion Rock Park, Chuk Yuen Rd, Chuk Un, Hong Kong",
                    waypoints: [
                        { location: "Lion Rock Country Park Entrance, Shatin Pass Road, Sha Tin Pass, Hong Kong" }, 
                        { location: "Lion Rock Head, Lion Rock, Hong Kong" },
                        { location: "Wind & Rain Pavilion, Maclehose Trail Sec. 5, Lion Rock, Hong Kong" }
                    ],
                    travelMode: google.maps.TravelMode.WALKING
                })
                .then((response) => {
                    directionsRenderer.setDirections(response);
                })
                .catch((e) => window.alert("Directions request failed due to " + status));
            }
        </script>
        <style>
            html, body {
                margin: 0;
                padding: 0;
                height: 100%;
                background-color: #002544;
            }
            #banner {
                width: 100%;
            }
            #banner-text {
                position: absolute;
                left: 5vw;
                top: 0.25vw;
                color: #002544;
                font-family: Helvetica, sans-serif;
            }
            #title {
                margin-bottom: 0.5vw;
                font-size: 3vw;
            }
            #subtitle {
                margin-top: 0;
                font-size: 1.75vw;
            }
            article {
                padding-left: 2vw;
                padding-right: 2vw;
                background-color: #002544;
                color: white;
                font-family: Helvetica, sans-serif;
                font-size: 14px;
                line-height: 1.5;
            }
            #map {
                height: 100%;
            }
            footer {
                padding-top: 12px;
                padding-bottom: 12px;
                background-color: black;
                color: white;
                font-family: Helvetica, sans-serif;
                font-size: 12px;
                font-weight: bold;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <!-- Banner -->
        <!-- Credit: https://unsplash.com/photos/iglsC6XUpuE Free to use under the Unsplash License -->
        <header>
            <img id="banner" src="banner.jpg" alt="Banner">
            <div id="banner-text">
                <h1 id="title">Lion Rock Trail Map</h1>
                <h2 id="subtitle">The Most Iconic Mountain in Hong Kong</h2>
            </div>
        </header>
        <!-- Map -->
        <div id="map"></div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDv3MGflguusDaLmV_-BUlmuoUI4EbM88w&callback=initMap&v=weekly" async></script>
        <!-- Introduction -->
        <article>
            <p>Lion Rock is a mountain in Hong Kong which is well known for its resemblance to a crouching lion and its breathtaking panorama view of Kowloon Peninsula and Victoria Harbour. According to folklore, the God sent a lion down to suppress the nine dragons infested in Kowloon, and the lion turned into Lion Rock. It is worth mentioning that Lion Rock Spirit refers to the core values, including solidarity and perseverance, that are inherited by Hong Kong people from generation to generation.</p>
            <p>The hiking route is only 4.7km and the total duration is around 2 to 3 hours. The hikers can access the trail easily by public transit. Although Lion Rock is one of the most popular trails in Hong Kong, please be advised that Lion Rock Peak is one of the high risk locations due to its level of difficulty, with records of serious and fatal accidents. The trail can be rocky and steep with no fences as the hikers approach to the peak. The hikers should be properly prepared and be cautious of the steep cliffs.</p>
        </article>
        <!-- Footer -->
        <footer>Peggy Wong | Fleming GIS 2022 | All Rights Reserved</footer>
    </body>
</html>
